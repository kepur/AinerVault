# 05. ainer-planner

## 定位
创意与生产规划核心（ShotPlan/TimelinePlan/DAG 生产者）。

## 核心职责
- 生成 `shot_plan`、`timeline_plan`、`task_dag`。
- 输出复杂度与资源预算建议。
- 将创意目标转为可执行计划（非执行本身）。

## 输入
- 语言上下文、实体结构、素材候选、音频规划约束。

## 输出
- `plan.shot.generated`、`plan.prompt.generated`。
- 结构化计划对象供 09/10/19 消费。

## 上下游
- 上游：`02`、`03`、`04`、`06`。
- 下游：`06`、`09`、`10`、`19`。

## 边界与约束
- 仅输出计划，不直接调模型执行。
- 必须附带 plan 版本与追踪字段。

## 失败与回滚
- 关键输入缺失：输出 `REVIEW_REQUIRED`。
- 计划冲突：返回冲突清单，不隐式覆盖。