# 12. ainer-composer

## 定位
合成与导出模块（最终产物权威生产者）。

## 核心职责
- 按时间线合成视频、对白、BGM、SFX。
- 输出最终视频与导出元数据。
- 发布产物并回写发布事件。

## 输入
- 视频/音频/lipsync 产物与 `timeline_final`。

## 输出
- `compose.completed`、`artifact.published`、`final_artifact_meta`。

## 上下游
- 上游：`08`、`09`、`11`、`06`。
- 下游：`01 gateway` 查询层、`13 observer`、前端发布层。

## 边界
- 仅负责合成导出，不负责上游策略生成。

## 失败策略
- 合成失败：保留中间产物并返回错误码。
- 部分可用：允许 `success_with_degradation` 并标记说明。